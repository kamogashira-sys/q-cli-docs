# Kiro CLI /usage コマンド（使用量・契約プラン確認）

## 概要

Kiro CLI の `/usage` コマンドは、契約プラン情報と月間使用量を確認するためのコマンドです。Q Developer CLI では `/usage` はコンテキスト使用量を表示していましたが、Kiro CLI では契約プラン管理機能に変更されました。

## 📋 主要機能

### 1. 契約プラン情報の表示

- **プラン名**: 現在の契約プラン（例：KIRO PRO+）
- **リセット日**: 使用量がリセットされる日付
- **クレジット情報**: 使用済み/プラン上限のクレジット数

### 2. 使用量の可視化

- **プログレスバー**: 視覚的な使用量表示
- **使用率**: パーセンテージでの使用状況
- **残りクレジット**: 利用可能なクレジット数

### 3. 課金情報

- **オーバーエイジ設定**: 上限超過時の課金有無
- **単価**: 追加リクエストあたりの料金
- **推定コスト**: 現在の使用量に基づく推定料金

## 🚀 使用方法

### 基本的な使用方法

```bash
/usage
```

### 出力例

```
Estimated Usage | resets on 02/01 | KIRO PRO+
Credits (44.38 of 2000 covered in plan)
████████████████████████████████████████████████████████████████████████████████ 2%

Overages: Enabled  billed at $0.04 per request (managed by your organization)
Credits used: 0.00
Est. cost: $0.00 USD

Since your account is through your organization, for account management please contact your account administrator.

Tip: to see context window usage, run /context
```

## 📊 出力項目の詳細

### ヘッダー情報

| 項目 | 説明 | 例 |
|------|------|-----|
| Estimated Usage | 推定使用量 | - |
| resets on | リセット日 | 02/01 |
| プラン名 | 契約プラン | KIRO PRO+ |

### クレジット情報

| 項目 | 説明 | 例 |
|------|------|-----|
| Credits | 使用済み/プラン上限 | 44.38 of 2000 |
| 使用率 | パーセンテージ表示 | 2% |
| プログレスバー | 視覚的表示 | ████████... |

### 課金情報

| 項目 | 説明 | 例 |
|------|------|-----|
| Overages | オーバーエイジ設定 | Enabled/Disabled |
| 単価 | 追加リクエスト料金 | $0.04 per request |
| Credits used | 追加使用クレジット | 0.00 |
| Est. cost | 推定コスト | $0.00 USD |

## 🔄 Q Developer CLI からの変更点

### 変更前（Q Developer CLI）

```bash
/usage  # コンテキスト使用量を表示
```

### 変更後（Kiro CLI）

```bash
/usage    # 契約プラン・使用量を表示
/context  # コンテキスト使用量を表示（新設）
```

## 💡 使用上の注意点

### 1. 組織アカウントの場合

- アカウント管理は組織の管理者に問い合わせが必要
- 個人での設定変更は制限される場合がある

### 2. オーバーエイジ設定

- **Enabled**: 上限超過時に追加課金が発生
- **Disabled**: 上限到達時に使用停止

### 3. リセット日

- 月次でクレジットがリセット
- リセット日は契約開始日に基づく

## 🔗 関連コマンド

| コマンド | 機能 | 説明 |
|----------|------|------|
| `/usage` | 使用量・契約確認 | 契約プラン情報と月間使用量 |
| `/context` | コンテキスト確認 | コンテキストウィンドウの使用状況 |
| `/help` | ヘルプ表示 | 利用可能なコマンド一覧 |

## 📈 活用シーン

### 1. 定期的な使用量チェック

- 月初めのクレジット確認
- 使用量の傾向把握
- 予算管理

### 2. プロジェクト管理

- チーム使用量の監視
- コスト最適化の検討
- プラン変更の判断材料

### 3. トラブルシューティング

- 使用量上限到達の確認
- 課金設定の確認
- アカウント状態の把握

## 🎯 ベストプラクティス

### 1. 定期的な確認

```bash
# 週次での使用量確認
/usage

# 必要に応じてコンテキスト使用量も確認
/context
```

### 2. 使用量の監視

- 80%到達時にアラート設定を検討
- 月末近くでの使用量チェック
- 予想外の使用量増加の早期発見

### 3. コスト管理

- オーバーエイジ設定の適切な管理
- 使用パターンの分析
- プラン最適化の検討

## 🔍 トラブルシューティング

### よくある問題と解決方法

#### 1. 使用量が表示されない

**原因**: ネットワーク接続またはアカウント認証の問題

**解決方法**:
```bash
# 再認証を試行
kiro auth login

# 接続確認
/usage
```

#### 2. 組織アカウントで設定変更できない

**原因**: 組織管理者による制限

**解決方法**:
- 組織の管理者に問い合わせ
- 必要な権限の確認・申請

#### 3. 予想以上の使用量

**原因**: 大量のコンテキスト使用またはリクエスト

**解決方法**:
```bash
# コンテキスト使用量を確認
/context

# 使用パターンの見直し
```

## 📚 参考情報

- Kiro CLI 公式サイト: https://kiro.dev/cli/
- プラン詳細: 公式サイトの料金ページを参照
- サポート: 組織管理者または公式サポートに問い合わせ
