[ホーム](../README.md) > [Meta](README.md) > 日常的な作業フロー

---

# 日常的な作業フロー

本サイトでの日常的な作業フローを、シーン別に説明します。

---

## 新規ドキュメント作成時

### ステップ1: ソースコードを確認

```bash
# Q CLIソースコードをクローン（初回のみ）
git clone https://github.com/aws/amazon-q-developer-cli.git

# 最新版に更新
cd amazon-q-developer-cli
git pull

# 対象機能のソースコードを確認
rg "機能名" --type rust
```

---

### ステップ2: 実装照合チェックリストを使用

[手動チェック](06_manual-checks.md)の実装照合チェックリストを使用：

- [ ] ソースコードを確認したか
- [ ] テストコードを確認したか
- [ ] JSON Schemaを確認したか
- [ ] デフォルト値を確認したか
- [ ] 環境変数の定義を確認したか

---

### ステップ3: ドキュメントを作成

確認した内容を基に、ドキュメントを作成。

**重要な原則**:
- ❌ 推測で書かない
- ✅ すべてソースコードで確認

---

### ステップ4: 動作確認チェックリストを使用

[手動チェック](06_manual-checks.md)の動作確認チェックリストを使用：

- [ ] コマンドを実行したか
- [ ] 設定ファイルを適用したか
- [ ] エラーメッセージを確認したか
- [ ] 期待通りの動作をしたか

---

### ステップ5: 自動化ツールで検証

```bash
# ファイル数チェック
./scripts/count-files.sh

# 日付チェック
./scripts/check-dates.sh docs/

# v2.0バリデーター
cd tools/verification
python3 validators/v2_validator.py ../../docs
```

---

### ステップ6: コミット

```bash
git add docs/
git commit -m "docs: 新規ドキュメント追加"
git push origin your-branch
```

---

## ドキュメント更新時

### ステップ1: 変更内容を明確化

- 何を変更するのか
- なぜ変更するのか
- 影響範囲はどこか

---

### ステップ2: ソースコードを確認（必要に応じて）

技術的な内容を変更する場合は、必ずソースコードを確認。

---

### ステップ3: 影響範囲を確認

```bash
# リンクを確認
grep -r "変更するファイル名" docs/

# 環境変数を確認（環境変数を変更する場合）
./scripts/search-env-var.sh 環境変数名
```

---

### ステップ4: ドキュメントを更新

変更内容を反映。

---

### ステップ5: 日付を更新

```markdown
最終更新: 2025-11-01
```

---

### ステップ6: 自動化ツールで検証

```bash
# 日付チェック
./scripts/check-dates.sh docs/

# v2.0バリデーター
cd tools/verification
python3 validators/v2_validator.py ../../docs
```

---

### ステップ7: コミット

```bash
git add docs/
git commit -m "docs: ドキュメント更新"
git push origin your-branch
```

---

## ドキュメント削除時

### ステップ1: 削除操作チェックリストを使用

[手動チェック](06_manual-checks.md)の削除操作チェックリストを使用：

- [ ] 使用箇所を検索したか
- [ ] 使用箇所が0件か確認したか
- [ ] 削除後に検証したか

---

### ステップ2: 使用箇所を確認

```bash
# ファイル名で検索
grep -r "削除するファイル名" docs/

# 環境変数で検索（環境変数を削除する場合）
./scripts/search-env-var.sh 環境変数名
```

**使用箇所が0件であることを確認してください。**

---

### ステップ3: 削除実行

```bash
git rm docs/削除するファイル
```

---

### ステップ4: 自動化ツールで検証

```bash
# ファイル数チェック
./scripts/count-files.sh

# v2.0バリデーター
cd tools/verification
python3 validators/v2_validator.py ../../docs
```

---

### ステップ5: コミット

```bash
git commit -m "docs: ドキュメント削除"
git push origin your-branch
```

---

## 定期チェック

### 週次チェック

```bash
# 日付整合性チェック
./scripts/check-dates.sh docs/

# v2.0バリデーター
cd tools/verification
python3 validators/v2_validator.py ../../docs
```

---

### 月次チェック

```bash
# ファイル数チェック
./scripts/count-files.sh

# 全ツール実行
cd tools/verification
make validate-all

# Q CLIの新バージョン確認
q --version
```

**新バージョンがリリースされた場合**:  
[バージョンアップ対応ガイド](10_version-update-guide.md)を参照してください。

---

## トラブルシューティング

### 自動化ツールで警告が出た

**対応**:
1. 警告内容を確認
2. 該当箇所を修正
3. 再度検証
4. 警告が消えるまで繰り返す

**警告を無視しないでください。**

---

### リンク切れが発生した

**対応**:
1. リンク先のファイルが存在するか確認
2. ファイル名が正しいか確認
3. パスが正しいか確認
4. 修正して再度検証

---

### 日付が不一致

**対応**:
1. Git最終更新日を確認
2. ドキュメント記載日を更新
3. 再度検証

---

## チェックリストテンプレート

作業時に使用するチェックリストのテンプレートです。コピーして使用してください。

### 実装照合チェックリスト

```markdown
# 実装照合チェックリスト

**作業名**: [作業名を記入]  
**作業日**: YYYY-MM-DD  
**作業者**: [作業者名を記入]

---

## ソースコード確認

- [ ] 対象機能のソースコードを特定
- [ ] 設定項目の定義を確認（`rg "struct.*Config" --type rust`）
- [ ] プロパティ名を確認（`rg "#\[serde\(rename" --type rust`）
- [ ] デフォルト値を確認（`rg "impl Default for" --type rust`）
- [ ] 環境変数の定義を確認（`rg "define_env_vars!" --type rust`）
- [ ] 環境変数の使用箇所を確認（`rg "ENV_VAR" --type rust`）

---

## テストコード確認

- [ ] テストファイルを特定
- [ ] 設定例を確認
- [ ] 期待される動作を確認
- [ ] エッジケースを確認

---

## JSON Schema確認

- [ ] スキーマファイルを確認（`schemas/agent-v1.json`）
- [ ] プロパティ名を確認
- [ ] データ型を確認
- [ ] 必須項目を確認
- [ ] デフォルト値を確認

---

## 既存ドキュメント確認

- [ ] 類似ドキュメントを検索
- [ ] 整合性を確認
- [ ] 重複を確認
- [ ] リンク先を確認

---

## 完了確認

- [ ] 全項目完了
- [ ] 不明点なし
- [ ] 実装との完全一致を確認
- [ ] 記録完了
```

---

### 動作確認チェックリスト

```markdown
# 動作確認チェックリスト

**作業名**: [作業名を記入]  
**作業日**: YYYY-MM-DD  
**作業者**: [作業者名を記入]

---

## コマンド実行確認

- [ ] 全てのコマンド例を実行
- [ ] 出力結果を確認
- [ ] エラーが発生しないことを確認
- [ ] 期待通りの動作を確認

**実行コマンド**:
```bash
[実行したコマンドを記入]
```

**出力結果**:
```
[出力結果を記入]
```

---

## 設定ファイル動作確認

- [ ] 設定ファイルを作成
- [ ] 設定ファイルを適用
- [ ] Q CLIを実行
- [ ] 期待通りに動作することを確認
- [ ] エラーが発生しないことを確認

**設定ファイル**:
```json
[設定ファイルの内容を記入]
```

**動作結果**:
```
[動作結果を記入]
```

---

## 環境変数効果確認

- [ ] 環境変数を設定
- [ ] Q CLIを実行
- [ ] 期待通りの効果を確認
- [ ] ログ出力を確認

**環境変数**:
```bash
export ENV_VAR=value
```

**効果確認**:
```
[効果を記入]
```

---

## 完了確認

- [ ] 全項目完了
- [ ] 全ての動作確認完了
- [ ] エラーなし
- [ ] 記録完了
```

---

### 削除操作チェックリスト

```markdown
# 削除操作チェックリスト

**削除対象**: [ファイル名/環境変数名を記入]  
**削除日**: YYYY-MM-DD  
**作業者**: [作業者名を記入]

---

## 削除前確認（必須）

- [ ] 使用箇所を全て検索
- [ ] 使用箇所数をカウント
- [ ] 使用箇所がゼロであることを確認
- [ ] 削除理由を明確化

**検索コマンド**:
```bash
# ファイル削除の場合
rg "filename.md" docs/

# 環境変数削除の場合
./scripts/search-env-var.sh ENV_VAR_NAME
```

**検索結果**:
```
使用箇所数: [数値を記入]
```

---

## 削除可否判定

- [ ] 使用箇所数 = 0 を確認
- [ ] 削除理由が明確
- [ ] 代替手段を検討済み（必要な場合）

**判定結果**: [削除可能/削除不可]

---

## レビュー（必須）

- [ ] レビュアーに確認依頼
- [ ] 削除理由を説明
- [ ] 検索結果を提示
- [ ] レビュアーの承認を得る

**レビュアー**: [レビュアー名を記入]  
**レビュー日時**: YYYY-MM-DD HH:MM  
**承認**: [承認/却下]

---

## 削除実施

- [ ] 削除実施
- [ ] 削除後検証
- [ ] 使用箇所ゼロを確認

**削除コマンド**:
```bash
[実行したコマンドを記入]
```

**削除後検証**:
```bash
[検証コマンドと結果を記入]
```

---

## 完了確認

- [ ] 全項目完了
- [ ] レビュー承認済み
- [ ] 削除後検証完了
- [ ] 記録完了
```

---

### 文書品質チェックリスト

```markdown
# 文書品質チェックリスト

**ドキュメント名**: [ファイル名を記入]  
**作業日**: YYYY-MM-DD  
**作業者**: [作業者名を記入]

---

## リンクチェック

- [ ] 内部リンクを確認
- [ ] 外部リンクを確認
- [ ] アンカーリンクを確認
- [ ] 相対パスを確認
- [ ] 自動チェック実行（`./scripts/check-links.sh`）

**チェック結果**:
```
[結果を記入]
```

---

## フォーマット確認

- [ ] 日付フォーマット統一（YYYY-MM-DD）
- [ ] 日付位置統一（文書最下部）
- [ ] セクション構造統一
- [ ] コードブロック構文統一
- [ ] 見出しレベル統一

---

## 内容確認

- [ ] 誤字脱字チェック
- [ ] 文法チェック
- [ ] 用語統一チェック
- [ ] 例示の正確性チェック

---

## ファイル数確認（README更新時）

- [ ] ファイル数カウント実行（`./scripts/count-files.sh`）
- [ ] README記載の数値と一致確認

**カウント結果**:
```
[結果を記入]
```

---

## 日付整合性確認

- [ ] 日付整合性チェック実行（`./scripts/check-dates.sh`）
- [ ] Git更新日と文書内日付の一致確認

**チェック結果**:
```
[結果を記入]
```

---

## 完了確認

- [ ] 全項目完了
- [ ] 品質基準達成
- [ ] 自動チェック全て合格
- [ ] 記録完了
```

---

## チェックリストのカスタマイズ

### プロジェクトに合わせた調整

**項目の追加**:
- プロジェクト固有の確認項目を追加
- 過去の問題から学んだ項目を追加

**項目の削除**:
- 不要な項目を削除
- 自動化できた項目を削除

**項目の変更**:
- プロジェクトに合わせて文言を調整
- ツール名やコマンド名を変更

### 継続的改善

**問題発見時**:
1. 問題の原因を分析
2. チェック項目で防げたか検討
3. 必要に応じて項目を追加

**定期レビュー**:
- 月次でチェックリストの有効性を確認
- 使われていない項目を削除
- 新しい問題に対応する項目を追加

---

## 作業記録への記録例

### 実装照合チェックリストの記録例

```markdown
## 実装照合チェックリスト

### 実施日: 2025-10-26
### 実施者: katoh
### 対象: docs/01_for-users/03_configuration/06_environment-variables.md

#### ソースコード確認
- [x] 対象機能のソースコードを特定
- [x] 設定項目の定義を確認
- [x] プロパティ名を確認
- [x] デフォルト値を確認
- [x] 環境変数の定義を確認
- [x] 環境変数の使用箇所を確認

#### テストコード確認
- [x] テストファイルを特定
- [x] 設定例を確認
- [x] 期待される動作を確認
- [x] エッジケースを確認

#### JSON Schema確認
- [x] スキーマファイルを確認
- [x] プロパティ名を確認
- [x] データ型を確認
- [x] 必須項目を確認
- [x] デフォルト値を確認

### 結果: OK（全15項目クリア）
```

---

### 原則1: 品質優先

- 時間よりも正確性を優先
- 妥協しない

### 原則2: 自動化の価値

- 自動化ツールを必ず実行
- 手動作業を削減

### 原則8: 作業効率を求めない

- 品質を犠牲にした効率化はしない
- 最初から正確に作業する

### 原則9: 全体把握の徹底

- 影響範囲を確認してから作業
- 使用箇所を確認してから削除

---

## 次に読むべきドキュメント

### 詳細を知りたい方

1. **[9つの作業原則](04_quality-principles.md)** - 品質を保つルール
2. **[自動化ツール](05_automation-tools.md)** - scripts + tools/verification
3. **[手動チェック](06_manual-checks.md)** - 4つのチェックリスト

### バージョンアップ対応

1. **[バージョンアップ対応](10_version-update.md)** - Q CLIバージョンアップ時の手順


---

**最終更新**: 2025-11-01
