[ホーム](../README.md) > [05_meta](README.md) > Implementation Verification

---

# 実装照合プロセス

**目的**: ドキュメントと実装の整合性を保証する

> **関連**: このプロセスは[品質保証プロセス](QUALITY_ASSURANCE.md)の一部です

---

## 📋 概要

このチェックリストは、ドキュメント内容が実際のQ CLI実装と一致していることを確認するためのものです。**すべての技術的記述について実装照合を必須とします**。

---

## 🔍 実装照合プロセス

### Phase 1: ソースコード確認

#### ファイルパス・ディレクトリ
- [ ] 設定ファイルパス（`settings.json`等）
- [ ] ログファイルパス（`qchat.log`等）
- [ ] Agentディレクトリパス
- [ ] MCPファイルパス
- [ ] 一時ディレクトリパス

**確認方法**:
```bash
# Q CLIソースコードをクローン
git clone https://github.com/aws/amazon-q-developer-cli.git
cd amazon-q-developer-cli

# パス定義を確認
grep -r "settings.json\|qchat.log" crates/chat-cli/src/util/directories.rs
```

#### 環境変数
- [ ] 環境変数名（`Q_LOG_LEVEL`等）
- [ ] デフォルト値
- [ ] 有効な値の範囲
- [ ] 環境変数の効果

**確認方法**:
```bash
# 環境変数定義を確認
grep -r "Q_LOG_LEVEL\|RUST_LOG" crates/chat-cli/src/util/consts.rs
```

#### コマンド・サブコマンド
- [ ] コマンド名
- [ ] サブコマンド名
- [ ] オプション・フラグ
- [ ] 引数の仕様

**確認方法**:
```bash
# CLI定義を確認
find crates/chat-cli/src/cli/ -name "*.rs" -exec grep -l "clap\|Command" {} \;
```

### Phase 2: 動作検証

#### 実際の動作確認
- [ ] コマンド実行結果
- [ ] ファイル生成確認
- [ ] 環境変数効果確認
- [ ] エラーメッセージ確認

**確認方法**:
```bash
# 実際にコマンドを実行して確認
export Q_LOG_LEVEL=debug
q chat "test"

# ログファイル生成を確認
ls -la /run/user/$(id -u)/qlog/qchat.log
```

#### OS別動作差異
- [ ] Linux動作
- [ ] macOS動作  
- [ ] Windows動作
- [ ] パス区切り文字の違い

### Phase 3: テストケース確認

#### 単体テスト
- [ ] テストケース内のパス
- [ ] テストケース内の期待値
- [ ] モックデータの内容

**確認方法**:
```bash
# テストケースを確認
find . -name "*.rs" -exec grep -l "#\[test\]" {} \;
grep -A 10 -B 5 "snapshot_.*_path" crates/chat-cli/src/util/directories.rs
```

---

## 📝 チェック項目詳細

### 設定関連
- [ ] `settings.json`のパス: `~/.local/share/amazon-q/settings.json`
- [ ] Agent設定パス: `~/.aws/amazonq/cli-agents/`
- [ ] MCP設定パス: `~/.config/amazonq/mcp.json`
- [ ] 設定優先順位の実装確認

### ログ関連
- [ ] ログファイルパス（OS別）
- [ ] ログファイル名: `qchat.log`
- [ ] ログ出力条件: chatサブコマンドのみ
- [ ] 環境変数: `Q_LOG_LEVEL`, `RUST_LOG`, `Q_LOG_STDOUT`

### 環境変数
- [ ] 全環境変数の名前確認
- [ ] デフォルト値の確認
- [ ] 有効値の範囲確認
- [ ] 環境変数展開構文: `${env:VAR_NAME}`

### コマンド仕様
- [ ] 全サブコマンドの確認
- [ ] オプション・フラグの確認
- [ ] ヘルプメッセージの確認
- [ ] エラーメッセージの確認

---

## 🚨 重要な注意事項

### 情報源の優先順位
1. **ソースコード**（最優先・唯一の真実）
2. **テストケース**（実装の期待値）
3. **実際の動作**（実証的確認）
4. **公式ドキュメント**（参考程度）

### 禁止事項
- ❌ 推測による記述
- ❌ 古い情報の流用
- ❌ 未確認の情報の記載
- ❌ 「おそらく」「たぶん」等の曖昧な表現

### 必須事項
- ✅ ソースコード確認
- ✅ 実際の動作確認
- ✅ OS別差異の確認
- ✅ バージョン依存性の確認

---

## 📊 チェック記録

### 実装照合実施記録
```
日付: ____年__月__日
担当者: ________________
対象ドキュメント: ________________
確認したソースコードバージョン: ________________

チェック結果:
□ Phase 1: ソースコード確認 - 合格/不合格
□ Phase 2: 動作検証 - 合格/不合格  
□ Phase 3: テストケース確認 - 合格/不合格

発見された問題:
________________

修正内容:
________________
```

---

## 🔄 継続的改善

### 定期見直し
- Q CLI新バージョンリリース時
- 月次での抜き打ちチェック
- コミュニティからの指摘時

### プロセス改善
- チェック項目の追加・更新
- 自動化可能な項目の特定
- 効率化の検討

---

**重要**: このチェックリストは、品質保証の最後の砦です。技術的な記述については、必ず実装との照合を実施してください。

---

## 関連ドキュメント

- [品質保証プロセス](QUALITY_ASSURANCE.md) - 全体的な品質保証の原則とチェックリスト
- [コントリビューションガイドライン](CONTRIBUTING.md) - ドキュメント作成の基本ルール

---

作成日: 2025-10-09  
最終更新: 2025-10-26
