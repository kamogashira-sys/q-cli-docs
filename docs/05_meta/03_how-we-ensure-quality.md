[ホーム](../README.md) > [Meta](README.md) > どうやって品質を保っているか

---

# どうやって品質を保っているか

本サイトでは、**3つの品質保証の柱**で品質を保っています。

---

## 3つの品質保証の柱

```
1. 作業原則（品質を保つルール）
   ├─ P1: 必須原則（3原則）
   ├─ P2: 重要原則（3原則）
   └─ P3: 推奨原則（3原則）
        ↓ 実践
2. 自動化ツール（機械的チェック）
   ├─ scripts/ - ドキュメントフォーマットチェック
   └─ tools/verification/ - 内容の正確性チェック
        ↓ 補完
3. 手動チェック（人間の確認）
   ├─ 実装照合
   ├─ 動作確認
   ├─ 削除操作
   └─ 文書品質
```

---

## 1. 作業原則（品質を保つルール）

### 概要

**9つの作業原則**で品質を保証：
- **P1: 必須原則（3原則）** - すべての作業で厳守
- **P2: 重要原則（3原則）** - 技術仕様の作成・修正で実施
- **P3: 推奨原則（3原則）** - 大規模な変更で実施

### P1: 必須原則（3原則）

#### 原則1: 実装を確認する

**概要**:
- 推測で書かない
- ソースコードで実装を確認する
- 参照したソースファイルとバージョンを記録する

**実践手段**:
- 自動化ツール: `setting_validator.py`, `command_validator.py`, `enum_validator.py`
- 手動チェック: [実装照合チェックリスト](#実装照合チェックリスト)

**詳細**: [作業原則詳細](04_quality-principles.md#原則1-実装を確認する)

---

#### 原則2: 動作を確認する

**概要**:
- 「動くはず」という推測をしない
- コマンド例を実際に実行する
- URLの実在性を確認する

**実践手段**:
- 自動化ツール: `validate_commands.sh`, `check-urls.sh`
- 手動チェック: [動作確認チェックリスト](#動作確認チェックリスト)

**詳細**: [作業原則詳細](04_quality-principles.md#原則2-動作を確認する)

---

#### 原則3: 品質を最優先する

**概要**:
- 時間を理由に品質を下げない
- 品質基準を満たすまで完了としない
- 妥協しない

**実践手段**:
- すべての自動化ツール
- すべての手動チェック

**詳細**: [作業原則詳細](04_quality-principles.md#原則3-品質を最優先する)

---

### P2: 重要原則（3原則）

#### 原則4: 影響範囲と完全性を確認する

**概要**:
- 修正箇所だけでなく、影響範囲をすべて確認する
- 影響範囲チェックリストを使用する
- 完全性を確認する

**実践手段**:
- 自動化ツール: `check-impact.sh`, `check-completeness.py`
- 手動チェック: 影響範囲チェックリスト

**詳細**: [作業原則詳細](04_quality-principles.md#原則4-影響範囲と完全性を確認する)

---

#### 原則5: クロスチェックを実施する

**概要**:
- 単一情報源だけを信じない
- 複数の情報源をクロスチェックする
- 情報源の優先順位に従う

**実践手段**:
- 手動チェック: 複数の情報源を確認

**詳細**: [作業原則詳細](04_quality-principles.md#原則5-クロスチェックを実施する)

---

#### 原則6: 一貫性を確認する

**概要**:
- ドキュメント全体の一貫性を確認する
- 同じ情報が複数箇所にある場合、すべて一致することを確認する
- 表記揺れを統一する

**実践手段**:
- 自動化ツール: `check-consistency.sh`
- 手動チェック: 重要な用語、パス、コマンドを検索

**詳細**: [作業原則詳細](04_quality-principles.md#原則6-一貫性を確認する)

---

### P3: 推奨原則（3原則）

#### 原則7: 検証工程を組み込む

**概要**:
- すべての作業に検証工程を含める
- 品質ゲートを設置する
- 検証工程を作業計画に明記する

**実践手段**:
- 作業計画のテンプレートを使用

**詳細**: [作業原則詳細](04_quality-principles.md#原則7-検証工程を組み込む)

---

#### 原則8: 自動化を優先する

**概要**:
- 自動化ツールを優先的に使用する
- 自動化できない場合のみ手動で実施する
- 検証結果を自動記録する

**実践手段**:
- すべての自動化ツール

**詳細**: [作業原則詳細](04_quality-principles.md#原則8-自動化を優先する)

---

#### 原則9: 品質ゲートと記録

**概要**:
- 品質ゲート通過を確認する
- 検証結果を記録する
- 検証ログを保存する

**実践手段**:
- 検証結果の記録形式（簡略版）を使用

**詳細**: [作業原則詳細](04_quality-principles.md#原則9-品質ゲートと記録)

---

**詳細**: [9つの作業原則（詳細）](04_quality-principles.md)

---

## 2. 自動化ツール（機械的チェック）

### scripts/ - ドキュメントフォーマットチェック

**10のツール**で、ドキュメントの形式と内容を自動チェック：

| ツール | チェック内容 | 効果 |
|--------|------------|------|
| check-urls.sh | URLが有効か | リンク切れを防止 |
| check-consistency.sh | 表記揺れがないか | 一貫性を保証 |
| check-commands.sh | コマンド例が正しいか | 存在しないコマンドを防止 |
| check-impact.sh | 影響範囲を分析 | 変更の影響を把握 |
| check-completeness.py | ドキュメントが完全か | 不完全なドキュメントを防止 |
| count-files.sh | ファイル数が正しいか | ファイル数不一致を防止 |
| check-dates.sh | 日付が最新か | 日付不整合を防止 |
| search-env-var.sh | 環境変数の使用箇所 | 削除エラーを防止 |
| validate_commands.sh | コマンド例が正しいか | 存在しないコマンドを防止 |
| validate_config_keys.sh | 設定キーが正しいか | 無効な設定キーを防止 |

**実行タイミング**:
- Git commitフック（自動実行）
- 手動実行（必要に応じて）

**効果**: 数秒で全ファイルをチェック

---

### tools/verification/ - 内容の正確性チェック

**8つのバリデーター**で、内容の正確性を自動チェック：

| バリデーター | チェック内容 | 効果 |
|------------|------------|------|
| env_validator.py | 環境変数が正しいか（70+変数） | 環境変数名の誤りを防止 |
| path_validator.py | ファイルパスが正しいか（10パターン） | パスの誤りを防止 |
| v2_validator.py | 4つの情報源の整合性 | 一貫性を保証 |
| setting_validator.py | 設定項目が正しいか | 設定項目の誤りを防止 |
| command_validator.py | コマンドが正しいか | コマンドの誤りを防止 |
| enum_validator.py | Enum値が正しいか | Enum値の誤りを防止 |
| schema_validator.py | スキーマが正しいか | スキーマの誤りを防止 |
| type_validator.py | 型が正しいか | 型の誤りを防止 |

**実行タイミング**:
- CI/CD（GitHub Actions）
- 手動実行（必要に応じて）

**効果**: 1,849項目を自動チェック、問題0件

---

### 自動化ツールの効果

**検証項目数**: 1,849項目

**内訳**:
- scripts/: 約200項目（ファイル数、日付、コマンド、設定キー）
- tools/verification/: 約1,649項目（環境変数、パス、設定項目）

**効果**:
- ✅ 100%の網羅性（全ファイルを漏れなくチェック）
- ✅ 一貫性の保証（同じ基準で判定）
- ✅ 効率化（数秒で完了）
- ✅ 継続的な品質維持（定期実行で劣化を防止）

---

## 3. 手動チェック（人間の確認）

自動化できない項目を人間が確認：

### 実装照合チェックリスト

**目的**: ドキュメントがソースコードと一致することを確認

**チェック項目**:
- [ ] ソースコードを確認したか
- [ ] テストコードを確認したか
- [ ] JSON Schemaを確認したか
- [ ] デフォルト値を確認したか
- [ ] 環境変数の定義を確認したか

**効果**: 動作しない設定例を防止

---

### 動作確認チェックリスト

**目的**: 実際に動作することを確認

**チェック項目**:
- [ ] コマンドを実行したか
- [ ] 設定ファイルを適用したか
- [ ] エラーメッセージを確認したか
- [ ] 期待通りの動作をしたか

**効果**: 動作しない手順を防止

---

### 削除操作チェックリスト

**目的**: 安全に削除できることを確認

**チェック項目**:
- [ ] 使用箇所を検索したか
- [ ] 使用箇所が0件か確認したか
- [ ] 削除後に検証したか

**効果**: 削除エラーを防止

---

### 文書品質チェックリスト

**目的**: 読みやすいドキュメントを保証

**チェック項目**:
- [ ] リンク切れがないか
- [ ] 表記が統一されているか
- [ ] 日付が最新か
- [ ] 専門用語に説明があるか

**効果**: 可読性を向上

---

## 全体のワークフロー

### 新規ドキュメント作成時

```
1. ソースコードを確認（実装照合）
   ↓
2. 実装照合チェックリストを使用
   ↓
3. 動作確認チェックリストを使用
   ↓
4. 自動化ツールで検証
   ├─ scripts/配下のツール
   └─ tools/verification/配下のツール
   ↓
5. 問題なし → コミット
```

### ドキュメント更新時

```
1. 変更内容を明確化
   ↓
2. 影響範囲を確認
   ↓
3. 自動化ツールで検証
   ↓
4. 問題なし → コミット
```

### ドキュメント削除時

```
1. 削除操作チェックリストを使用
   ↓
2. search-env-var.shで使用箇所を確認
   ↓
3. 使用箇所0件を確認
   ↓
4. 削除実行
   ↓
5. 自動化ツールで検証
   ↓
6. 問題なし → コミット
```

---

## 次に読むべきドキュメント

### 詳細を知りたい方

1. **[9つの作業原則](04_quality-principles.md)** - 品質を保つルール
2. **[自動化ツール](05_automation-tools.md)** - scripts + tools/verification
3. **[手動チェック](06_manual-checks.md)** - 4つのチェックリスト
4. **[過去の問題と教訓](07_lessons-learned.md)** - 詳細な問題分析

### 実践したい方

1. **[初めてのコントリビューション](08_getting-started.md)** - セットアップと最初の一歩
2. **[日常的な作業フロー](09_daily-workflow.md)** - 新規作成・更新・削除


---

**最終更新**: 2025-11-02
