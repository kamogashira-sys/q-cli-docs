[ホーム](../README.md) > [Meta](README.md) > どうやって品質を保っているか

---

# どうやって品質を保っているか

本サイトでは、**3つの品質保証の柱**で品質を保っています。

---

## 3つの品質保証の柱

```
1. 自動化ツール（機械的チェック）
   ├─ scripts/ - ドキュメントフォーマットチェック
   └─ tools/verification/ - 内容の正確性チェック
        ↓
2. 手動チェック（人間の確認）
   ├─ 実装照合
   ├─ 動作確認
   ├─ 削除操作
   └─ 文書品質
        ↓
3. 作業原則（品質を保つルール）
   └─ 9つの作業原則
```

---

## 1. 自動化ツール（機械的チェック）

### scripts/ - ドキュメントフォーマットチェック

**5つのツール**で、ドキュメントの形式を自動チェック：

| ツール | チェック内容 | 効果 |
|--------|------------|------|
| count-files.sh | ファイル数が正しいか | ファイル数不一致を防止 |
| check-dates.sh | 日付が最新か | 日付不整合を防止 |
| search-env-var.sh | 環境変数の使用箇所 | 削除エラーを防止 |
| validate_commands.sh | コマンド例が正しいか | 存在しないコマンドを防止 |
| validate_config_keys.sh | 設定キーが正しいか | 無効な設定キーを防止 |

**実行タイミング**:
- Git commitフック（自動実行）
- 手動実行（必要に応じて）

**効果**: 数秒で全ファイルをチェック

---

### tools/verification/ - 内容の正確性チェック

**8つのバリデーター**で、内容の正確性を自動チェック：

| バリデーター | チェック内容 | 効果 |
|------------|------------|------|
| env_validator.py | 環境変数が正しいか（70+変数） | 環境変数名の誤りを防止 |
| path_validator.py | ファイルパスが正しいか（10パターン） | パスの誤りを防止 |
| v2_validator.py | 4つの情報源の整合性 | 一貫性を保証 |
| setting_validator.py | 設定項目が正しいか | 設定項目の誤りを防止 |
| command_validator.py | コマンドが正しいか | コマンドの誤りを防止 |
| enum_validator.py | Enum値が正しいか | Enum値の誤りを防止 |
| schema_validator.py | スキーマが正しいか | スキーマの誤りを防止 |
| type_validator.py | 型が正しいか | 型の誤りを防止 |

**実行タイミング**:
- CI/CD（GitHub Actions）
- 手動実行（必要に応じて）

**効果**: 1,849項目を自動チェック、問題0件

---

### 自動化ツールの効果

**検証項目数**: 1,849項目

**内訳**:
- scripts/: 約200項目（ファイル数、日付、コマンド、設定キー）
- tools/verification/: 約1,649項目（環境変数、パス、設定項目）

**効果**:
- ✅ 100%の網羅性（全ファイルを漏れなくチェック）
- ✅ 一貫性の保証（同じ基準で判定）
- ✅ 効率化（数秒で完了）
- ✅ 継続的な品質維持（定期実行で劣化を防止）

---

## 2. 手動チェック（人間の確認）

自動化できない項目を人間が確認：

### 実装照合チェックリスト

**目的**: ドキュメントがソースコードと一致することを確認

**チェック項目**:
- [ ] ソースコードを確認したか
- [ ] テストコードを確認したか
- [ ] JSON Schemaを確認したか
- [ ] デフォルト値を確認したか
- [ ] 環境変数の定義を確認したか

**効果**: 動作しない設定例を防止

---

### 動作確認チェックリスト

**目的**: 実際に動作することを確認

**チェック項目**:
- [ ] コマンドを実行したか
- [ ] 設定ファイルを適用したか
- [ ] エラーメッセージを確認したか
- [ ] 期待通りの動作をしたか

**効果**: 動作しない手順を防止

---

### 削除操作チェックリスト

**目的**: 安全に削除できることを確認

**チェック項目**:
- [ ] 使用箇所を検索したか
- [ ] 使用箇所が0件か確認したか
- [ ] 削除後に検証したか

**効果**: 削除エラーを防止

---

### 文書品質チェックリスト

**目的**: 読みやすいドキュメントを保証

**チェック項目**:
- [ ] リンク切れがないか
- [ ] 表記が統一されているか
- [ ] 日付が最新か
- [ ] 専門用語に説明があるか

**効果**: 可読性を向上

---

## 3. 作業原則（品質を保つルール）

**9つの作業原則**で品質を保証：

### 原則1: 品質優先の重要性

- 時間よりも正確性を優先
- 妥協しない
- 必要な時間をかける

### 原則2: 自動化の価値

- 機械的にチェックできる項目は自動化
- 手動作業を削減
- 継続的な品質維持

### 原則3: テストの重要性

- 100%のテストカバレッジ
- すべての変更をテスト
- 品質を保証

### 原則4: 段階的アプローチの効果

- 調査→更新→検証の段階的実施
- 各段階で確認
- リスクを分散

### 原則5: 統合の価値

- 既存ツールを活用
- 重複を排除
- 効率化

### 原則6: CI/CD統合の重要性

- 自動検証
- 継続的な品質保証
- 早期発見

### 原則7: 段階的改善の効果

- 継続的な改善サイクル
- 問題を早期発見
- 品質を向上

### 原則8: 作業効率を求めない

- 品質を犠牲にした効率化は意味がない
- 最初から正確に作業する方が効率的
- 修正コストは元作業の1.0-8.0倍

### 原則9: 全体把握の徹底

- 作業開始前に全体を把握
- すべての問題を特定
- 一括対応

**詳細**: [9つの作業原則](04_quality-principles.md)

---

## 全体のワークフロー

### 新規ドキュメント作成時

```
1. ソースコードを確認（実装照合）
   ↓
2. 実装照合チェックリストを使用
   ↓
3. 動作確認チェックリストを使用
   ↓
4. 自動化ツールで検証
   ├─ scripts/配下のツール
   └─ tools/verification/配下のツール
   ↓
5. 問題なし → コミット
```

### ドキュメント更新時

```
1. 変更内容を明確化
   ↓
2. 影響範囲を確認
   ↓
3. 自動化ツールで検証
   ↓
4. 問題なし → コミット
```

### ドキュメント削除時

```
1. 削除操作チェックリストを使用
   ↓
2. search-env-var.shで使用箇所を確認
   ↓
3. 使用箇所0件を確認
   ↓
4. 削除実行
   ↓
5. 自動化ツールで検証
   ↓
6. 問題なし → コミット
```

---

## 次に読むべきドキュメント

### 詳細を知りたい方

1. **[9つの作業原則](04_quality-principles.md)** - 品質を保つルール
2. **[自動化ツール](05_automation-tools.md)** - scripts + tools/verification
3. **[手動チェック](06_manual-checks.md)** - 4つのチェックリスト
4. **[過去の問題と教訓](07_lessons-learned.md)** - 詳細な問題分析

### 実践したい方

1. **[初めてのコントリビューション](08_getting-started.md)** - セットアップと最初の一歩
2. **[日常的な作業フロー](09_daily-workflow.md)** - 新規作成・更新・削除

---

最終更新: 2025-11-01
