[ホーム](../../../README.md) > [ユーザーガイド](../../README.md) > [機能ガイド](../README.md) > [チャット機能](../01_chat.md) > TODO管理

---

# TODO管理

**対象バージョン**: v1.13.0以降

> **🧪 実験的機能**: TODO機能は開発中です。`q settings chat.enableTodoList true`で有効化してください。

## 📋 コマンド概要

TODO管理機能は、Q CLIチャット内でタスクリストを作成・管理する機能です。開発作業中に発生するタスクを記録し、進捗を追跡できます。会話の流れの中で自然にタスクを管理し、作業の継続性を保つことができます。

## 🚀 基本的な使い方

### TODO管理コマンド一覧

| コマンド | 詳細説明 | 使用シーン |
|---------|---------|-----------|
| `/todos view` | 現在のTODOリストを表示。未完了のタスク一覧を確認できる | 残っているタスクを確認したい時 |
| `/todos resume` | TODOを再開。中断していたタスクに戻る | 一時中断していたタスクを再開したい時 |
| `/todos clear-finished` | 完了済みのTODOをリストから削除。未完了のタスクのみ残る | 完了したタスクを整理してリストをすっきりさせたい時 |
| `/todos delete` | すべてのTODOを削除。リストを完全にクリアする | プロジェクトが終了した時、TODOリストをリセットしたい時 |

### 基本例

```bash
# TODO機能を有効化
q settings chat.enableTodoList true

# 現在のTODOリストを確認
/todos view

# TODOを再開
/todos resume

# 完了したタスクを削除
/todos clear-finished
```

## ⚙️ オプション・引数

### TODOの自動作成

TODO機能は、会話の中でタスクが言及されると自動的にTODOアイテムを作成します：

- **「〜する必要がある」**: 自動的にTODOとして記録
- **「〜を実装したい」**: 実装タスクとして追加
- **「〜を修正する」**: バグ修正タスクとして追加
- **「〜をテストする」**: テストタスクとして追加

### TODOの状態管理

| 状態 | 説明 | 表示 |
|------|------|------|
| **未完了** | まだ実行されていないタスク | `[ ]` |
| **進行中** | 現在作業中のタスク | `[~]` |
| **完了** | 完了したタスク | `[x]` |
| **保留** | 一時的に保留されたタスク | `[-]` |

### TODOの優先度

| 優先度 | 表示 | 説明 |
|--------|------|------|
| **高** | `🔴` | 緊急または重要なタスク |
| **中** | `🟡` | 通常の優先度のタスク |
| **低** | `🟢` | 時間があるときに実行するタスク |

## 💡 実用例

### 例1: 開発タスクの自動記録と管理

**シナリオ**: 新機能開発中に発生するタスクを自然に管理したい

```bash
# TODO機能を有効化
q settings chat.enableTodoList true

# 会話の中でタスクが自動記録される
"ユーザー認証機能を実装する必要がある"
"データベーススキーマを設計したい"
"APIエンドポイントのテストを書く"

# 自動作成されたTODOを確認
/todos view

# 出力例:
# 📋 TODO List (3 items)
# [ ] 🟡 ユーザー認証機能を実装する
# [ ] 🟡 データベーススキーマを設計する  
# [ ] 🟢 APIエンドポイントのテストを書く
```

**結果**: 会話の流れを中断することなく、自然にタスクが記録される

### 例2: 作業の中断と再開

**シナリオ**: 緊急対応で作業を中断し、後で再開したい

```bash
# 現在のタスクを確認
/todos view

# 緊急対応のため作業を中断
"緊急のバグ修正が必要になった"

# 緊急対応完了後、元のタスクに戻る
/todos resume

# 出力例:
# 🔄 Resuming TODO: ユーザー認証機能を実装する
# 
# 前回の進捗:
# - 認証スキーマの設計完了
# - JWT実装の途中
# 
# 次のステップ:
# - JWT トークン生成の実装
# - 認証ミドルウェアの作成
```

**結果**: 中断前の状況を思い出し、スムーズに作業を再開できる

### 例3: プロジェクト完了時の整理

**シナリオ**: プロジェクト完了時にTODOリストを整理したい

```bash
# 現在のTODOリストを確認
/todos view

# 出力例:
# 📋 TODO List (5 items)
# [x] 🟡 ユーザー認証機能を実装する
# [x] 🟡 データベーススキーマを設計する
# [x] 🟢 APIエンドポイントのテストを書く
# [ ] 🟢 ドキュメントを更新する
# [ ] 🟢 パフォーマンステストを実行する

# 完了したタスクを削除
/todos clear-finished

# 残りのタスクを確認
/todos view

# 出力例:
# 📋 TODO List (2 items)
# [ ] 🟢 ドキュメントを更新する
# [ ] 🟢 パフォーマンステストを実行する

# プロジェクト完了後、すべてクリア
/todos delete
```

**結果**: 完了したタスクを整理し、新しいプロジェクトに向けてクリーンな状態にできる

## 🔧 トラブルシューティング

### よくある問題

#### 問題1: TODO機能が使用できない

**症状**: `/todos` コマンドが認識されない

**原因**: TODO機能が有効化されていない

**解決策**:
```bash
# TODO機能を有効化
q settings chat.enableTodoList true

# 設定を確認
q settings list | grep Todo

# チャットを再起動
/quit
q chat
```

#### 問題2: TODOが自動作成されない

**症状**: タスクを言及してもTODOリストに追加されない

**原因**: 表現が曖昧、または機能の制限

**解決策**:
```bash
# より明確な表現を使用
"〜を実装する必要がある"
"〜をテストしたい"
"〜を修正する"

# 手動でTODOを確認
/todos view

# 必要に応じて明示的に言及
"これをTODOに追加してください: APIドキュメントの更新"
```

#### 問題3: TODOリストが表示されない

**症状**: `/todos view` で何も表示されない

**原因**: TODOが作成されていない、またはデータの問題

**解決策**:
```bash
# 新しいTODOを作成してテスト
"テスト用のタスクを作成する必要がある"

# TODOリストを再確認
/todos view

# 設定を再確認
q settings chat.enableTodoList true
```

#### 問題4: 完了したTODOが削除されない

**症状**: `/todos clear-finished` を実行しても完了済みタスクが残る

**原因**: タスクの状態が正しく更新されていない

**解決策**:
```bash
# 現在の状態を確認
/todos view

# 手動で完了を明示
"〜のタスクが完了しました"

# 再度削除を試行
/todos clear-finished

# 問題が続く場合は全削除
/todos delete
```

#### 問題5: TODOの優先度が適切でない

**症状**: 重要なタスクが低優先度で記録される

**原因**: 自動判定の限界、または表現の問題

**解決策**:
```bash
# 優先度を明示的に表現
"緊急: セキュリティ脆弱性を修正する必要がある"
"重要: パフォーマンス問題を解決したい"

# 現在のTODOを確認
/todos view

# 必要に応じて優先度を再言及
"先ほどのセキュリティ修正は最優先で対応が必要です"
```

## 🔗 関連コマンド

- [基本コマンド・会話管理](01_basic-commands.md) - `/save`、`/load`による会話とTODOの保存
- [Checkpoint管理](05_checkpoint-management.md) - ワークスペース状態との連携
- [開発者向けコマンド](08_developer-commands.md) - 実験的機能の管理

## 📖 参照元

- [チャット機能概要](../01_chat.md#todo管理) - TODO管理の概要
- [実験的機能ガイド](../07_experimental.md) - 実験的機能の詳細

---

最終更新: 2025年11月13日
