[ãƒ›ãƒ¼ãƒ ](../../README.md) > [ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£](../README.md) > [ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆæƒ…å ±](README.md) > 04 Migration Guides

---

# ãƒžã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Amazon Q CLIã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³é–“ã§ã®ç§»è¡Œæ–¹æ³•ã¨ã€ç ´å£Šçš„å¤‰æ›´ã¸ã®å¯¾å¿œæ–¹æ³•ã‚’èª¬æ˜Žã—ã¾ã™ã€‚

## ðŸ“‹ ç›®æ¬¡

- [v1.18.x â†’ v1.19.0](#v118x--v1190)
- [v1.17.x â†’ v1.18.x](#v117x--v118x)
- [v1.16.x â†’ v1.17.x](#v116x--v117x)
- [v1.15.x â†’ v1.16.x](#v115x--v116x)
- [v1.14.x â†’ v1.15.x](#v114x--v115x)
- [v1.13.x â†’ v1.14.x](#v113x--v114x)
- [ä¸€èˆ¬çš„ãªç§»è¡Œæ‰‹é †](#ä¸€èˆ¬çš„ãªç§»è¡Œæ‰‹é †)

---

## v1.18.x â†’ v1.19.0

### æ¦‚è¦
v1.19.0ã§ã¯ã€Knowledge PDFå¯¾å¿œã€ç”»åƒãƒšãƒ¼ã‚¹ãƒˆæ©Ÿèƒ½ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼ˆbash tool deny_by_defaultï¼‰ãªã©ã€9ã¤ã®ä¸»è¦ãªæ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚

### ç ´å£Šçš„å¤‰æ›´

#### 1. `--resume`å‹•ä½œã®å¤‰æ›´ï¼ˆé‡è¦ï¼‰
**å¤‰æ›´å†…å®¹**: `--resume`ãƒ•ãƒ©ã‚°ã‚’æ˜Žç¤ºçš„ã«æŒ‡å®šã—ãŸå ´åˆã®ã¿ã€å‰å›žã®ä¼šè©±ã‚’ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‹ã‚‰èª­ã¿è¾¼ã‚€ã‚ˆã†ã«å¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚

**å¤‰æ›´å‰ï¼ˆv1.18.xä»¥å‰ï¼‰**:
```bash
q chat "ç¶šãã‚’æ•™ãˆã¦"  # è‡ªå‹•çš„ã«å‰å›žã®ä¼šè©±ã‚’ç¶™ç¶š
```

**å¤‰æ›´å¾Œï¼ˆv1.19.0+ï¼‰**:
```bash
q chat "ç¶šãã‚’æ•™ãˆã¦"           # æ–°ã—ã„ä¼šè©±ã¨ã—ã¦é–‹å§‹
q chat --resume "ç¶šãã‚’æ•™ãˆã¦"  # å‰å›žã®ä¼šè©±ã‚’ç¶™ç¶šï¼ˆæ˜Žç¤ºçš„æŒ‡å®šãŒå¿…è¦ï¼‰
```

**å½±éŸ¿ç¯„å›²**:
- ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§ä¼šè©±ç¶™ç¶šã‚’å‰æã¨ã—ã¦ã„ã‚‹å ´åˆã€`--resume`ãƒ•ãƒ©ã‚°ã®è¿½åŠ ãŒå¿…è¦
- å¯¾è©±çš„ãªä½¿ç”¨ã§ã¯ã€æ„å›³ã—ãªã„ä¼šè©±ç¶™ç¶šã‚’é˜²ã’ã‚‹ãŸã‚ã€ã‚ˆã‚Šäºˆæ¸¬å¯èƒ½ãªå‹•ä½œã«

#### 2. bash toolã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œå¤‰æ›´ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ï¼‰
**å¤‰æ›´å†…å®¹**: `deny_by_default`ãƒ¢ãƒ¼ãƒ‰ãŒè¿½åŠ ã•ã‚Œã€bashã‚³ãƒžãƒ³ãƒ‰ã®å®Ÿè¡ŒãŒãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ‹’å¦ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã—ãŸã€‚

**å¤‰æ›´å‰**: ã™ã¹ã¦ã®bashã‚³ãƒžãƒ³ãƒ‰ãŒå®Ÿè¡Œå¯èƒ½
**å¤‰æ›´å¾Œ**: æ˜Žç¤ºçš„ã«è¨±å¯ã•ã‚ŒãŸã‚³ãƒžãƒ³ãƒ‰ã®ã¿å®Ÿè¡Œå¯èƒ½

### æŽ¨å¥¨ã•ã‚Œã‚‹å¤‰æ›´

#### 1. ä¼šè©±ç¶™ç¶šã®æ˜Žç¤ºåŒ–
ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ã‚¨ã‚¤ãƒªã‚¢ã‚¹ã§ä¼šè©±ç¶™ç¶šã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã€`--resume`ã‚’è¿½åŠ ï¼š

**æ›´æ–°å‰**:
```bash
# ã‚¨ã‚¤ãƒªã‚¢ã‚¹ä¾‹
alias qc='q chat'
```

**æ›´æ–°å¾Œ**:
```bash
# ä¼šè©±ç¶™ç¶šç”¨ã‚¨ã‚¤ãƒªã‚¢ã‚¹
alias qc='q chat'
alias qcr='q chat --resume'  # ä¼šè©±ç¶™ç¶šç”¨
```

#### 2. bash toolæ¨©é™ã®æ˜Žç¤ºçš„è¨­å®š
Agentè¨­å®šã§bashã‚³ãƒžãƒ³ãƒ‰ã®è¨±å¯ãƒªã‚¹ãƒˆã‚’å®šç¾©ï¼š

```json
{
  "tools": {
    "execute_bash": {
      "enabled": true,
      "denyByDefault": true,
      "allowedCommands": [
        "ls", "cat", "grep", "find",
        "git status", "git log", "git diff",
        "npm test", "npm run build"
      ]
    }
  }
}
```

**ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹**:
- å¿…è¦æœ€å°é™ã®ã‚³ãƒžãƒ³ãƒ‰ã®ã¿è¨±å¯
- ãƒ¯ã‚¤ãƒ«ãƒ‰ã‚«ãƒ¼ãƒ‰ï¼ˆ`*`ï¼‰ã®ä½¿ç”¨ã¯é¿ã‘ã‚‹
- å®šæœŸçš„ã«è¨±å¯ãƒªã‚¹ãƒˆã‚’è¦‹ç›´ã™

#### 3. Knowledge PDFæ©Ÿèƒ½ã®æ´»ç”¨
PDFãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ ï¼š

**Knowledgeæ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–**:
```bash
# Knowledgeæ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–
q settings chat.enableKnowledge true
```

Knowledgeæ©Ÿèƒ½ãŒæœ‰åŠ¹ãªå ´åˆã€Q CLIã¯è‡ªå‹•çš„ã«ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªå†…ã®PDFãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã—ã¾ã™ã€‚

**å¯¾å¿œãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆ**:
- PDFï¼ˆæ–°è¦å¯¾å¿œï¼‰
- Markdown
- ãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
- ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰

#### 4. ç”»åƒãƒšãƒ¼ã‚¹ãƒˆæ©Ÿèƒ½ã®æ´»ç”¨
ãƒãƒ£ãƒƒãƒˆå†…ã§ç”»åƒã‚’ç›´æŽ¥è²¼ã‚Šä»˜ã‘ï¼š

```bash
# ãƒãƒ£ãƒƒãƒˆã‚’é–‹å§‹
q chat

# ãƒãƒ£ãƒƒãƒˆå†…ã§ã‚­ãƒ¼ãƒã‚¤ãƒ³ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨
# Ctrl+V ã¾ãŸã¯ Cmd+V ã§ç”»åƒã‚’è²¼ã‚Šä»˜ã‘
```

**ä½¿ç”¨ä¾‹**:
- ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆã®å…±æœ‰
- ã‚¨ãƒ©ãƒ¼ç”»é¢ã®èª¬æ˜Ž
- å›³è¡¨ã®åˆ†æžä¾é ¼

#### 5. OAuth redirect URIè¨­å®šï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
ã‚«ã‚¹ã‚¿ãƒ OAuth redirect URIã‚’è¨­å®šã™ã‚‹å ´åˆï¼š

```bash
# ç’°å¢ƒå¤‰æ•°ã§è¨­å®š
export Q_OAUTH_REDIRECT_URI="http://localhost:8080/callback"

# ã¾ãŸã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§æŒ‡å®š
q settings auth.oauthRedirectUri "http://localhost:8080/callback"
```

#### 6. HTTP MCP headersç’°å¢ƒå¤‰æ•°ã®æ´»ç”¨
MCP HTTPãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ï¼š

```json
{
  "mcpServers": {
    "my-api": {
      "transport": "http",
      "url": "https://api.example.com",
      "headers": {
        "Authorization": "${env:API_TOKEN}",
        "X-Custom-Header": "${env:CUSTOM_VALUE}"
      }
    }
  }
}
```

#### 7. builtin tool namespaceã®æ´»ç”¨
ãƒ„ãƒ¼ãƒ«æ¨©é™ã‚’åå‰ç©ºé–“ã§ç®¡ç†ï¼š

```json
{
  "tools": {
    "builtin:fs_read": {
      "enabled": true,
      "allowedPaths": ["~/projects/**"]
    },
    "builtin:execute_bash": {
      "enabled": true,
      "denyByDefault": true,
      "allowedCommands": ["ls", "cat"]
    }
  }
}
```

#### 8. /logdump --mcpã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®æ´»ç”¨
MCPã‚µãƒ¼ãƒãƒ¼ã®ãƒ­ã‚°ã‚‚å«ã‚ã¦åŽé›†ï¼š

```bash
# é€šå¸¸ã®ãƒ­ã‚°ãƒ€ãƒ³ãƒ—
/logdump

# MCPãƒ­ã‚°ã‚‚å«ã‚ã‚‹
/logdump --mcp
```

### äº’æ›æ€§
- **æ—¢å­˜ã®è¨­å®š**: ã™ã¹ã¦å¼•ãç¶šãå‹•ä½œï¼ˆbash toolæ¨©é™ã¯è¦ç¢ºèªï¼‰
- **æ—¢å­˜ã®ã‚³ãƒžãƒ³ãƒ‰**: `--resume`ãªã—ã®å ´åˆã€æ–°ã—ã„ä¼šè©±ã¨ã—ã¦é–‹å§‹ã•ã‚Œã‚‹
- **å®Ÿé¨“çš„æ©Ÿèƒ½**: å¼•ãç¶šãåˆ©ç”¨å¯èƒ½

### ç§»è¡Œæ‰‹é †

#### å¿…é ˆæ‰‹é †
1. **Q CLIã‚’v1.19.0ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰**
   ```bash
   brew update && brew upgrade amazon-q
   # ã¾ãŸã¯
   npm update -g @aws/amazon-q-developer-cli
   ```

2. **bash toolæ¨©é™ã®è¨­å®š**
   ```bash
   # Agentè¨­å®šã‚’ç·¨é›†
   q agent edit
   
   # allowedCommandsã‚’è¿½åŠ 
   # ä¸Šè¨˜ã®ã€Œbash toolæ¨©é™ã®æ˜Žç¤ºçš„è¨­å®šã€ã‚’å‚ç…§
   ```

3. **å‹•ä½œç¢ºèª**
   ```bash
   # æ–°ã—ã„ä¼šè©±ã®é–‹å§‹
   q chat "Hello"
   
   # ä¼šè©±ç¶™ç¶šã®ç¢ºèª
   q chat --resume "ç¶šãã‚’æ•™ãˆã¦"
   
   # bashå®Ÿè¡Œã®ç¢ºèª
   q chat "lsã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦"
   ```

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³æ‰‹é †
4. **ä¼šè©±ç¶™ç¶šã‚¨ã‚¤ãƒªã‚¢ã‚¹ã®è¿½åŠ **ï¼ˆæŽ¨å¥¨ï¼‰
   ```bash
   # ~/.bashrc ã¾ãŸã¯ ~/.zshrc ã«è¿½åŠ 
   alias qcr='q chat --resume'
   ```

5. **PDF Knowledgeæ©Ÿèƒ½ã®è©¦ç”¨**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   ```bash
   q knowledge add --name docs --path /path/to/pdfs
   ```

6. **ç”»åƒãƒšãƒ¼ã‚¹ãƒˆæ©Ÿèƒ½ã®è©¦ç”¨**ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
   ```bash
   q chat
   # Ctrl+V ã§ç”»åƒã‚’è²¼ã‚Šä»˜ã‘
   ```

### ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

#### å•é¡Œ1: bashã‚³ãƒžãƒ³ãƒ‰ãŒå®Ÿè¡Œã§ããªã„
**ç—‡çŠ¶**: `execute_bash`ãƒ„ãƒ¼ãƒ«ãŒæ‹’å¦ã•ã‚Œã‚‹

**è§£æ±ºæ–¹æ³•**:
```json
{
  "tools": {
    "execute_bash": {
      "enabled": true,
      "denyByDefault": false  // ä¸€æ™‚çš„ã«ç„¡åŠ¹åŒ–ï¼ˆéžæŽ¨å¥¨ï¼‰
    }
  }
}
```

ã¾ãŸã¯ã€è¨±å¯ãƒªã‚¹ãƒˆã‚’è¿½åŠ ï¼ˆæŽ¨å¥¨ï¼‰ï¼š
```json
{
  "tools": {
    "execute_bash": {
      "enabled": true,
      "denyByDefault": true,
      "allowedCommands": ["å¿…è¦ãªã‚³ãƒžãƒ³ãƒ‰ã‚’è¿½åŠ "]
    }
  }
}
```

#### å•é¡Œ2: ä¼šè©±ãŒç¶™ç¶šã•ã‚Œãªã„
**ç—‡çŠ¶**: å‰å›žã®ä¼šè©±ãŒèª­ã¿è¾¼ã¾ã‚Œãªã„

**è§£æ±ºæ–¹æ³•**:
```bash
# --resumeãƒ•ãƒ©ã‚°ã‚’è¿½åŠ 
q chat --resume "ç¶šãã‚’æ•™ãˆã¦"
```

#### å•é¡Œ3: PDFãŒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åŒ–ã•ã‚Œãªã„
**ç—‡çŠ¶**: PDFãƒ•ã‚¡ã‚¤ãƒ«ãŒKnowledgeã«è¿½åŠ ã•ã‚Œãªã„

**è§£æ±ºæ–¹æ³•**:
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ã‚’ç¢ºèª
ls -la /path/to/pdf

# Knowledgeæ©Ÿèƒ½ãŒæœ‰åŠ¹ã‹ç¢ºèª
q settings chat.enableKnowledge

# Knowledgeè¨­å®šã‚’ç¢ºèª
q settings list | grep knowledge
```

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®æ³¨æ„

#### bash tool deny_by_defaultã®é‡è¦æ€§
- **ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æœ‰åŠ¹åŒ–ã‚’æŽ¨å¥¨**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚’æœ€å°åŒ–
- **è¨±å¯ãƒªã‚¹ãƒˆã¯æœ€å°é™ã«**: å¿…è¦ãªã‚³ãƒžãƒ³ãƒ‰ã®ã¿è¨±å¯
- **å®šæœŸçš„ãªè¦‹ç›´ã—**: ä¸è¦ã«ãªã£ãŸã‚³ãƒžãƒ³ãƒ‰ã¯å‰Šé™¤

#### ç’°å¢ƒå¤‰æ•°ã®å®‰å…¨ãªç®¡ç†
- **æ©Ÿå¯†æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ã§**: è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã«ç›´æŽ¥è¨˜è¼‰ã—ãªã„
- **`.env`ãƒ•ã‚¡ã‚¤ãƒ«ã®é™¤å¤–**: `.gitignore`ã«è¿½åŠ 
- **æ¨©é™ã®é©åˆ‡ãªè¨­å®š**: `chmod 600 ~/.env`

---

## v1.17.x â†’ v1.18.x

### æ¦‚è¦
v1.18.0ã§ã¯ã€Delegate Toolã€Stop Hookã€Knowledge ã‚³ãƒžãƒ³ãƒ‰çµ±åˆã€/logdump ã‚³ãƒžãƒ³ãƒ‰ãªã©ã€6ã¤ã®ä¸»è¦ãªæ–°æ©Ÿèƒ½ãŒè¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚

### ç ´å£Šçš„å¤‰æ›´
ãªã—ï¼ˆå¾Œæ–¹äº’æ›æ€§ã‚ã‚Šï¼‰

### æŽ¨å¥¨ã•ã‚Œã‚‹å¤‰æ›´

#### 1. Knowledgeã‚³ãƒžãƒ³ãƒ‰ã®æ›´æ–°
`/knowledge status` ã¨ `/knowledge show` ãŒçµ±åˆã•ã‚Œã¾ã—ãŸï¼š

**æ—§ã‚³ãƒžãƒ³ãƒ‰ï¼ˆv1.17.xä»¥å‰ï¼‰**:
```
/knowledge status  # ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†ã®çŠ¶æ…‹
/knowledge show    # ãƒŠãƒ¬ãƒƒã‚¸ãƒ™ãƒ¼ã‚¹æƒ…å ±ã‚’è¡¨ç¤º
```

**æ–°ã‚³ãƒžãƒ³ãƒ‰ï¼ˆv1.18.0+ï¼‰**:
```
/knowledge show    # statusã¨showãŒçµ±åˆï¼ˆã‚¨ãƒ³ãƒˆãƒªã¨æ“ä½œã®ä¸¡æ–¹ã‚’è¡¨ç¤ºï¼‰
```

**æ–°ã—ã„å¼•æ•°ã‚ªãƒ—ã‚·ãƒ§ãƒ³**:
```
/knowledge add -n myproject -p /path/to/project
/knowledge add --name docs --path /path/to/docs
```

#### 2. å®Ÿé¨“çš„æ©Ÿèƒ½ã®æœ‰åŠ¹åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
æ–°ã—ã„å®Ÿé¨“çš„æ©Ÿèƒ½ã‚’è©¦ã™å ´åˆï¼š

```bash
# Delegate Toolã‚’æœ‰åŠ¹åŒ–
q settings chat.enableDelegate true

# ã¾ãŸã¯ /experiment ã‚³ãƒžãƒ³ãƒ‰ã§æœ‰åŠ¹åŒ–
/experiment
# ãƒ¡ãƒ‹ãƒ¥ãƒ¼ã‹ã‚‰ã€ŒDelegateã€ã‚’é¸æŠž
```

#### 3. Stop Hookã®è¿½åŠ ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
ä¼šè©±ã‚¿ãƒ¼ãƒ³çµ‚äº†æ™‚ã«è‡ªå‹•å‡¦ç†ã‚’å®Ÿè¡Œã—ãŸã„å ´åˆã€Agentè¨­å®šã«Stop Hookã‚’è¿½åŠ ï¼š

```json
{
  "hooks": {
    "stop": {
      "command": "npm run format",
      "timeout": 30000
    }
  }
}
```

**ä½¿ç”¨ä¾‹**:
- ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«: `"command": "cargo build"`
- ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ: `"command": "npm test"`
- ãƒ•ã‚©ãƒ¼ãƒžãƒƒãƒˆ: `"command": "prettier --write ."`

#### 4. ãƒ­ã‚°åŽé›†ã®æ´»ç”¨
ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ™‚ã«æ–°ã—ã„ `/logdump` ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ç”¨ï¼š

```
/logdump
```

ZIPãƒ•ã‚¡ã‚¤ãƒ«ãŒç”Ÿæˆã•ã‚Œã€ã‚µãƒãƒ¼ãƒˆãƒãƒ¼ãƒ ã¸ã®æå‡ºãŒå®¹æ˜“ã«ãªã‚Šã¾ã™ã€‚

### äº’æ›æ€§
- **æ—¢å­˜ã®è¨­å®š**: ã™ã¹ã¦å¼•ãç¶šãå‹•ä½œ
- **æ—¢å­˜ã®ã‚³ãƒžãƒ³ãƒ‰**: å¤‰æ›´ãªã—ï¼ˆ`/knowledge status` ã¯å‰Šé™¤ã•ã‚Œã¾ã—ãŸãŒã€`/knowledge show` ã§åŒç­‰ã®æ©Ÿèƒ½ã‚’æä¾›ï¼‰
- **å®Ÿé¨“çš„æ©Ÿèƒ½**: ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ç„¡åŠ¹ã®ãŸã‚ã€æ—¢å­˜ã®ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã«å½±éŸ¿ãªã—

### ç§»è¡Œæ‰‹é †
1. Q CLIã‚’v1.18.0ã«ã‚¢ãƒƒãƒ—ã‚°ãƒ¬ãƒ¼ãƒ‰
2. `/knowledge status` ã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹å ´åˆã¯ `/knowledge show` ã«å¤‰æ›´
3. å¿…è¦ã«å¿œã˜ã¦æ–°æ©Ÿèƒ½ã‚’æœ‰åŠ¹åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰

---

## v1.16.x â†’ v1.17.x

### æ¦‚è¦
v1.17.0ã§ã¯ã€Knowledgeæ©Ÿèƒ½ã®BM25ã‚µãƒãƒ¼ãƒˆè¿½åŠ ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚

### ç ´å£Šçš„å¤‰æ›´
ãªã—ï¼ˆå¾Œæ–¹äº’æ›æ€§ã‚ã‚Šï¼‰

### æŽ¨å¥¨ã•ã‚Œã‚‹å¤‰æ›´

#### 1. Knowledgeè¨­å®šã®æœ€é©åŒ–
BM25æ¤œç´¢ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã‚’æ´»ç”¨ã™ã‚‹ãŸã‚ã®è¨­å®šè¿½åŠ ï¼š

```json
{
  "knowledge": {
    "enabled": true,
    "searchAlgorithm": "bm25",  // æ–°è¦è¿½åŠ 
    "maxResults": 10
  }
}
```

#### 2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¨­å®šã®è¦‹ç›´ã—
`execute_bash`æ¨©é™ãŒåŽ³æ ¼åŒ–ã•ã‚ŒãŸãŸã‚ã€Agentè¨­å®šã‚’ç¢ºèªï¼š

```json
{
  "tools": {
    "execute_bash": {
      "enabled": true,
      "allowedCommands": ["ls", "cat", "grep"]  // æ˜Žç¤ºçš„ã«è¨±å¯
    }
  }
}
```

### ç§»è¡Œæ‰‹é †
1. Amazon Q CLIã‚’æœ€æ–°ç‰ˆã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. Knowledgeè¨­å®šã«`searchAlgorithm`ã‚’è¿½åŠ ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
3. `execute_bash`ã®è¨±å¯ã‚³ãƒžãƒ³ãƒ‰ã‚’ç¢ºèªãƒ»æ›´æ–°
4. `q doctor`ã§è¨­å®šã‚’æ¤œè¨¼

---

## v1.15.x â†’ v1.16.x

### æ¦‚è¦
v1.16.0ã§ã¯ã€Agentæ©Ÿèƒ½ã®æˆç†ŸåŒ–ã¨MCPã®rmcpç§»è¡ŒãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚

### ç ´å£Šçš„å¤‰æ›´

#### MCPè¨­å®šã®å¤‰æ›´
æ—§å½¢å¼ã®MCPè¨­å®šã¯éžæŽ¨å¥¨ã¨ãªã‚Šã¾ã—ãŸã€‚

**æ—§å½¢å¼**:
```json
{
  "mcp": {
    "servers": {
      "my-server": {
        "command": "node",
        "args": ["server.js"]
      }
    }
  }
}
```

**æ–°å½¢å¼ï¼ˆrmcpï¼‰**:
```json
{
  "mcpServers": {
    "my-server": {
      "command": "node",
      "args": ["server.js"],
      "transport": "stdio"
    }
  }
}
```

### æŽ¨å¥¨ã•ã‚Œã‚‹å¤‰æ›´

#### 1. Agentç®¡ç†ã‚³ãƒžãƒ³ãƒ‰ã®æ´»ç”¨
æ–°ã—ã„Agentç®¡ç†ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ç”¨ï¼š

```bash
# Agentä¸€è¦§è¡¨ç¤º
q agent list

# Agentç·¨é›†
q agent edit --name my-agent

# ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆAgentè¨­å®š
q agent set-default
```

#### 2. MCPè¨­å®šã®ç§»è¡Œ
ã™ã¹ã¦ã®MCPè¨­å®šã‚’æ–°å½¢å¼ã«ç§»è¡Œï¼š

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
q settings open

# mcpServerså½¢å¼ã«å¤‰æ›´
# transport: "stdio" ã¾ãŸã¯ "http" ã‚’æ˜Žç¤º
```

### ç§»è¡Œæ‰‹é †
1. Amazon Q CLIã‚’æœ€æ–°ç‰ˆã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. MCPè¨­å®šã‚’æ–°å½¢å¼ã«ç§»è¡Œ
3. Agentè¨­å®šã‚’ç¢ºèªï¼ˆã‚¹ã‚­ãƒ¼ãƒžæ¤œè¨¼ãŒå¼·åŒ–ï¼‰
4. `q doctor`ã§è¨­å®šã‚’æ¤œè¨¼
5. å„MCPã‚µãƒ¼ãƒãƒ¼ã®å‹•ä½œç¢ºèª

---

## v1.14.x â†’ v1.15.x

> **æ³¨**: GitHubã®ã‚¿ã‚°åã¯`v.1.15.0`ï¼ˆãƒ‰ãƒƒãƒˆä»˜ãï¼‰ã§ã™ã€‚

### æ¦‚è¦
v1.15.0ã§ã¯ã€Knowledgeæ©Ÿèƒ½ã®æ”¹å–„ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹æœ€é©åŒ–ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚

### ç ´å£Šçš„å¤‰æ›´
ãªã—ï¼ˆå¾Œæ–¹äº’æ›æ€§ã‚ã‚Šï¼‰

### æŽ¨å¥¨ã•ã‚Œã‚‹å¤‰æ›´

#### 1. Knowledgeè¨­å®šã®æœ€é©åŒ–
æ¤œç´¢ç²¾åº¦å‘ä¸Šã®ãŸã‚ã®è¨­å®šèª¿æ•´ï¼š

```json
{
  "knowledge": {
    "enabled": true,
    "indexing": {
      "chunkSize": 1000,      // æŽ¨å¥¨å€¤
      "chunkOverlap": 200     // æŽ¨å¥¨å€¤
    },
    "search": {
      "maxResults": 10,
      "minScore": 0.7         // æ–°è¦è¿½åŠ 
    }
  }
}
```

#### 2. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¨­å®šã®è¦‹ç›´ã—
ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡å‰Šæ¸›ã®ãŸã‚ã®è¨­å®šï¼š

```json
{
  "chat": {
    "maxContextTokens": 8000,  // èª¿æ•´æŽ¨å¥¨
    "streamingEnabled": true
  }
}
```

### ç§»è¡Œæ‰‹é †
1. Amazon Q CLIã‚’æœ€æ–°ç‰ˆã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. Knowledgeè¨­å®šã‚’æœ€é©åŒ–ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¨­å®šã‚’è¦‹ç›´ã—ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
4. Knowledge Baseã®å†ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ï¼ˆæŽ¨å¥¨ï¼‰

---

## v1.13.x â†’ v1.14.x

### æ¦‚è¦
v1.14.0ã§ã¯ã€ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å¼·åŒ–ã¨UXæ”¹å–„ãŒè¡Œã‚ã‚Œã¾ã—ãŸã€‚

### ç ´å£Šçš„å¤‰æ›´

#### ãƒ„ãƒ¼ãƒ«æ¨©é™ã®åŽ³æ ¼åŒ–
`fs_read`ã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå‹•ä½œãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚

**å¤‰æ›´å‰**: ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ãŒè¨±å¯
**å¤‰æ›´å¾Œ**: æ˜Žç¤ºçš„ã«è¨±å¯ã•ã‚ŒãŸãƒ‘ã‚¹ã®ã¿ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½

### æŽ¨å¥¨ã•ã‚Œã‚‹å¤‰æ›´

#### 1. ãƒ„ãƒ¼ãƒ«æ¨©é™ã®æ˜Žç¤ºçš„è¨­å®š
Agentè¨­å®šã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã‚’æ˜Žç¤ºï¼š

```json
{
  "tools": {
    "fs_read": {
      "enabled": true,
      "allowedPaths": [
        "~/projects/**",
        "~/documents/**"
      ]
    }
  }
}
```

#### 2. ç’°å¢ƒå¤‰æ•°ã®å®‰å…¨ãªå–ã‚Šæ‰±ã„
æ©Ÿå¯†æƒ…å ±ã¯ç’°å¢ƒå¤‰æ•°ã§ç®¡ç†ï¼š

```json
{
  "mcpServers": {
    "my-server": {
      "env": {
        "API_KEY": "${env:MY_API_KEY}"
      }
    }
  }
}
```

### ç§»è¡Œæ‰‹é †
1. Amazon Q CLIã‚’æœ€æ–°ç‰ˆã«ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
2. Agentè¨­å®šã«`allowedPaths`ã‚’è¿½åŠ 
3. æ©Ÿå¯†æƒ…å ±ã‚’ç’°å¢ƒå¤‰æ•°ã«ç§»è¡Œ
4. `q doctor`ã§è¨­å®šã‚’æ¤œè¨¼
5. ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ã‚¯ã‚»ã‚¹ã®å‹•ä½œç¢ºèª

---

## ä¸€èˆ¬çš„ãªç§»è¡Œæ‰‹é †

### 1. ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã®ä½œæˆ

```bash
# è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—
cp ~/.local/share/amazon-q/settings.json ~/.local/share/amazon-q/settings.json.backup
cp -r ~/.aws/amazonq/cli-agents ~/.aws/amazonq/cli-agents.backup
```

### 2. ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆå®Ÿè¡Œ

```bash
# Homebrewã®å ´åˆ
brew update
brew upgrade amazon-q

# npmã®å ´åˆ
npm update -g @aws/amazon-q-developer-cli
```

### 3. è¨­å®šã®æ¤œè¨¼

```bash
# è¨­å®šã®è¨ºæ–­
q doctor

# Agentè¨­å®šã®ç¢ºèª
q agent list
q agent validate
```

### 4. å‹•ä½œç¢ºèª

```bash
# åŸºæœ¬å‹•ä½œã®ç¢ºèª
q chat "Hello"

# MCPã‚µãƒ¼ãƒãƒ¼ã®ç¢ºèª
q settings list | grep mcp

# Knowledgeæ©Ÿèƒ½ã®ç¢ºèª
q settings chat.enableKnowledge
```

### 5. ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. **è¨­å®šã‚’ãƒªã‚»ãƒƒãƒˆ**:
   ```bash
   q settings reset
   ```

2. **ãƒ­ã‚°ã‚’ç¢ºèª**:
   ```bash
   q doctor --verbose
   ```

3. **ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒ**:
   ```bash
   cp ~/.local/share/amazon-q/settings.json.backup ~/.local/share/amazon-q/settings.json
   ```

---

## ðŸ“š é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [å¤‰æ›´å±¥æ­´](01_changelog.md) - ãƒãƒ¼ã‚¸ãƒ§ãƒ³åˆ¥ã®å¤‰æ›´å†…å®¹
- [è¨­å®šã‚¬ã‚¤ãƒ‰](../../01_for-users/03_configuration/README.md) - è¨­å®šã®è©³ç´°
- [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](../../01_for-users/06_troubleshooting/README.md) - å•é¡Œè§£æ±ºæ–¹æ³•

---

## ðŸ†˜ ã‚µãƒãƒ¼ãƒˆ

ç§»è¡Œã«é–¢ã™ã‚‹å•é¡ŒãŒç™ºç”Ÿã—ãŸå ´åˆï¼š

1. [ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ã‚¬ã‚¤ãƒ‰](../../01_for-users/06_troubleshooting/02_common-issues.md)ã‚’ç¢ºèª
2. [GitHub Issues](https://github.com/aws/amazon-q-developer-cli/issues)ã§æ—¢çŸ¥ã®å•é¡Œã‚’æ¤œç´¢
3. æ–°ã—ã„Issueã‚’ä½œæˆã—ã¦å ±å‘Š

æœ€çµ‚æ›´æ–°: %Y->-
